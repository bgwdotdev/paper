<!DOCTYPE html>
<head>
<style>
  body {
    margin: 0 auto;
    background-color: black;
    width: 100vw;
    height: 100vh;
    display: grid;
    justify-content: center;
    align-content: center;
  }
</style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script type="module">
      let tower = await import(`./tower.js?t=${Date.now()}`);
      async function hotPatch() {
        console.log("reloading!");
        const module = await import(`./up.js?t=${Date.now()}`);
        game.update = module.update;
      }
      const game = {
        update: tower.update
      }
      const hotupdate = (state, input) => {
        return game.update(state, input)
      }
      tower.hot(hotupdate)
      window.addEventListener('keydown', (e) => {
        if (e.key === ';') { hotPatch(); }
      });
    </script>
</body>
