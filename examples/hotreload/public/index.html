<!DOCTYPE html>
<head>
<style>
  body {
    margin: 0 auto;
    background-color: black;
    width: 100vw;
    height: 100vh;
    display: grid;
    justify-content: center;
    align-content: center;
  }
</style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script type="module">

      const hotreload = await import(`./build/dev/javascript/hotreload/hotreload.mjs`);
      const update = await import(`./build/dev/javascript/hotreload/hotreload/update.mjs?t=${Date.now()}`);
      const game = {
        update: update.update
      }
      const hotupdate = (state, input) => {
        return game.update(state, input)
      }
      hotreload.main(hotupdate)

      async function hotPatch() {
        const update = await import(`./build/dev/javascript/hotreload/hotreload/update.mjs?t=${Date.now()}`);
        game.update = update.update;
      }
      window.addEventListener('keydown', (e) => {
        if (e.key === ';') { hotPatch(); }
      });
    </script>
</body>
